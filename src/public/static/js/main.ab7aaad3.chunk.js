(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{305:function(e,t,a){e.exports=a(636)},310:function(e,t,a){},622:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAACgAAAAYAAQAAAACSjywBAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAd2KE6QAAAAHdElNRQfmBggLEiQOn/STAAAB9ElEQVR42u3BMQEAAADCoPVP7W8GoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIA3hmkAAcv6w+4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDYtMDhUMTE6MTg6MzYrMDA6MDCznK4wAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA2LTA4VDExOjE4OjM2KzAwOjAwwsEWjAAAAABJRU5ErkJggg=="},634:function(e,t,a){},636:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(5),o=a.n(s),l=(a(310),a(115),a(45)),r=(a(637),a(56)),A=(a(154),a(6)),c=(a(145),a(71)),d=(a(123),a(54)),m=a(38),u=a(39),p=a(41),h=a(40),f=a(42),g=(a(327),a(80)),v=a(81),b=a(22),y=a(31),x=(a(197),a(73)),E=(a(199),a(32)),w=a(55);function k(e){if(0===e)return"0 Byte";e=Number(e);var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}function O(e){if(0===e)return 0;var t=8*Number(e);return Math.round(t/Math.pow(1024,2),2)}function S(e){e=Number(e);var t=Math.floor(e/86400),a=Math.floor(e%86400/3600),n=Math.floor(e%3600/60),i=Math.floor(e%60);return(t>0?t+(1===t?" day, ":" days, "):"")+(a>0?a+(1===a?" hour, ":" hours, "):"")+(n>0?n+(1===n?" minute, ":" minutes, "):"")+(i>0?i+(1===i?" second":" seconds"):"")}function M(e){e=Number(e);var t=Math.floor(e/86400),a=Math.floor(e%86400/3600),n=Math.floor(e%3600/60);return(t>0?t+"d,":"")+(a>0?a+"h,":"")+(n>0?n+"m,":"")+(Math.floor(e%60)+"s")}var I=a(120),j=a.n(I),D=a(24),C=a.n(D);a(400),a(422),a(428),a(439);function T(e){return{title:{text:e},tooltip:{trigger:"axis"},grid:{left:"2%",right:"4%",bottom:"2%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value",max:100}],series:[{name:e,type:"line",areaStyle:{normal:{}},data:[]}]}}var V=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).count=0,a.lastInBytes=0,a.lastOtBytes=0,a.state={cpuOption:T("CPU Usage"),memOption:T("Memory Usage"),conOption:{title:{text:"Connections"},tooltip:{trigger:"axis"},legend:{data:["Rtmp","Http","WebSocket"]},grid:{left:"2%",right:"4%",bottom:"2%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value"}],series:[{name:"Rtmp",type:"line",data:[]},{name:"Http",type:"line",data:[]},{name:"WebSocket",type:"line",data:[]}]},netOption:{title:{text:"Network Bandwidth"},tooltip:{trigger:"axis",axisPointer:{animation:!1}},axisPointer:{link:{xAxisIndex:"all"}},legend:{data:["Input","Output"]},grid:[{left:50,right:50,height:"35%"},{left:50,right:50,top:"55%",height:"35%"}],xAxis:[{type:"category",boundaryGap:!1,axisLine:{onZero:!0},data:[],show:!1},{gridIndex:1,type:"category",boundaryGap:!1,axisLine:{onZero:!0},data:[],position:"bottom"}],yAxis:[{name:"Mbps",type:"value"},{gridIndex:1,type:"value",inverse:!0}],series:[{name:"Input",type:"line",data:[]},{name:"Output",type:"line",xAxisIndex:1,yAxisIndex:1,data:[]}]}},a.fetch=function(){fetch("/api/server",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){a.lastInBytes=a.lastInBytes||e.net.inbytes,a.lastOtBytes=a.lastOtBytes||e.net.outbytes;var t=new Date,n=t.toLocaleTimeString().replace(/^\D*/,""),i=Object(w.a)({},a.state.cpuOption),s=Object(w.a)({},a.state.memOption),o=Object(w.a)({},a.state.conOption),l=Object(w.a)({},a.state.netOption);a.count++>30&&(i.xAxis[0].data.shift(),i.series[0].data.shift(),s.xAxis[0].data.shift(),s.series[0].data.shift(),o.xAxis[0].data.shift(),o.series[0].data.shift(),o.series[1].data.shift(),o.series[2].data.shift(),l.xAxis[0].data.shift(),l.xAxis[1].data.shift(),l.series[0].data.shift(),l.series[1].data.shift()),i.uptime=t,i.xAxis[0].data.push(n),i.series[0].data.push(e.cpu.load),s.uptime=t,s.xAxis[0].data.push(n),s.series[0].data.push((100-100*e.mem.free/e.mem.totle).toFixed(2)),o.uptime=t,o.title.text="Connections "+(e.clients.rtmp+e.clients.http+e.clients.ws),o.xAxis[0].data.push(n),o.series[0].data.push(e.clients.rtmp),o.series[1].data.push(e.clients.http),o.series[2].data.push(e.clients.ws),l.uptime=t,l.xAxis[0].data.push(n),l.xAxis[1].data.push(n),l.series[0].data.push(O((e.net.inbytes-a.lastInBytes)/2)),l.series[1].data.push(O((e.net.outbytes-a.lastOtBytes)/2)),a.lastInBytes=e.net.inbytes,a.lastOtBytes=e.net.outbytes,a.setState({cpuOption:i,memOption:s,conOption:o,netOption:l})}).catch(function(e){})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetch(),this.timer=setInterval(this.fetch,2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return i.a.createElement(x.a,{style:{margin:"0 -12px"}},i.a.createElement(E.a,{span:12,style:{padding:"0 12px"}},i.a.createElement(l.a,null,i.a.createElement(j.a,{echarts:C.a,ref:"echarts_react",option:this.state.conOption,style:{height:"348px",width:"100%"}}))),i.a.createElement(E.a,{span:12,style:{padding:"0 12px"}},i.a.createElement(l.a,null,i.a.createElement(j.a,{echarts:C.a,ref:"echarts_react",option:this.state.netOption,style:{height:"348px",width:"100%"}}))),i.a.createElement(E.a,{span:12,style:{padding:"0 12px",marginTop:"16px"}},i.a.createElement(l.a,null,i.a.createElement(j.a,{echarts:C.a,ref:"echarts_react",option:this.state.cpuOption,style:{height:"300px",width:"100%"}}))),i.a.createElement(E.a,{span:12,style:{padding:"0 12px",marginTop:"16px"}},i.a.createElement(l.a,null,i.a.createElement(j.a,{echarts:C.a,ref:"echarts_react",option:this.state.memOption,style:{height:"300px",width:"100%"}}))))}}]),t}(n.Component),N=[{dataIndex:"name",key:"name",width:200},{dataIndex:"value",key:"value"}],B=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={data:[],loading:!1},a.fetch=function(){a.setState({loading:!0}),fetch("/api/server",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t={key:0,name:"OS",value:e.os.arch+"_"+e.os.platform+"_"+e.os.release},n={key:1,name:"CPU",value:e.cpu.num+" x "+e.cpu.model},i={key:2,name:"Memory",value:k(e.mem.totle)},s={key:3,name:"Node.js",value:e.nodejs.version},o={key:4,name:"Uptime",value:S(e.nodejs.uptime)},l={key:5,name:"Version",value:e.version};a.setState({loading:!1,data:[t,n,i,s,o,l]})}).catch(function(e){a.setState({loading:!1})})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return i.a.createElement(l.a,{title:i.a.createElement(n.Fragment,null,i.a.createElement(A.a,{type:"hdd"}),i.a.createElement("span",{style:{paddingLeft:"12px",fontSize:"16px"}},"Server Info"))},i.a.createElement(c.a,{dataSource:this.state.data,columns:N,loading:this.state.loading,pagination:!1,showHeader:!1}))}}]),t}(n.Component),L=(a(591),a(301)),W=a(195),P=a.n(W),z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).initFlv=function(e){if(e&&P.a.isSupported()){var t=P.a.createPlayer(Object(w.a)({},a.props),a.props.config);t.attachMediaElement(e),t.load(),t.play(),a.flvPlayer=t}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.flvPlayer&&(this.flvPlayer.unload(),this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy())}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.style;return i.a.createElement("video",{className:t,style:Object.assign({width:"100%"},a),ref:this.initFlv})}}]),t}(n.Component),q=a(99),Q=a(98),G=a.n(Q),R=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).cookies=new q.a,a.state={streamsData:[],loading:!1,visible:!1,password:""},a.columns=[{title:"App",dataIndex:"app",key:"app"},{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return i.a.createElement("a",{href:"##",onClick:function(){return a.openVideo(t)}},e)}},{title:"ID",dataIndex:"id",key:"id"},{title:"IP",dataIndex:"ip",key:"ip"},{title:"Audio",children:[{title:"codec",dataIndex:"ac",key:"ac"},{title:"freq",dataIndex:"freq",key:"freq"},{title:"chan",dataIndex:"chan",key:"chan"}]},{title:"Video",children:[{title:"codec",dataIndex:"vc",key:"vc"},{title:"size",dataIndex:"size",key:"size"},{title:"fps",dataIndex:"fps",key:"fps"}]},{title:"Time",dataIndex:"time",key:"time"},{title:"Clients",dataIndex:"clients",key:"clients"}],a.updatePass=function(e){var t=e.target.value;a.setState({password:t}),a.cookies.set("pass",t,{path:"/",maxAge:31536e3})},a.openVideo=function(e){var t="";if(a.state.password){var n=G.a.create(),s=Date.now()+3e4;n.update("/".concat(e.app,"/").concat(e.name,"-").concat(s,"-").concat(a.state.password));var o=n.hex();t="?sign=".concat(s,"-").concat(o)}a.videoModal=d.a.info({icon:null,title:"Video Player",width:640,height:480,content:i.a.createElement(z,{url:"/".concat(e.app,"/").concat(e.name,".flv").concat(t),type:"flv"})})},a.fetch=function(){a.setState({loading:!0}),fetch("/api/streams",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=[],n=0;for(var i in e)for(var s in e[i]){var o=e[i][s].publisher,l=e[i][s].subscribers;if(o){var r=(new Date).getTime()/1e3,A=new Date(o.connectCreated).getTime()/1e3,c={key:n++,app:i,name:s,id:o.clientId,ip:o.ip,ac:o.audio?o.audio.codec+" "+o.audio.profile:"",freq:o.audio?o.audio.samplerate:"",chan:o.audio?o.audio.channels:"",vc:o.video?o.video.codec+" "+o.video.profile:"",size:o.video?o.video.width+"x"+o.video.height:"",fps:o.video?Math.floor(o.video.fps):"",time:M(r-A),clients:l.length};t.push(c)}}a.setState({loading:!1,streamsData:t})}).catch(function(e){a.setState({loading:!1})})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({password:this.cookies.get("pass")}),this.fetch()}},{key:"render",value:function(){return i.a.createElement(l.a,null,i.a.createElement(L.a.Password,{size:"large",prefix:i.a.createElement(A.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),style:{marginBottom:"16px"},placeholder:"input password",onChange:this.updatePass,value:this.state.password}),i.a.createElement(c.a,{dataSource:this.state.streamsData,columns:this.columns,loading:this.state.loading,bordered:!0,small:!0,pagination:!1}))}}]),t}(n.Component),U=(a(598),a(298)),F=a(101),H=a(121),_=a.n(H),J=a(43),Y=a.n(J),K=a(640),X=a(641),Z=function(e){function t(){var e,n;Object(m.a)(this,t);for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={sid:"0",eid:null,qid:0,qarr:[],sta:null,blurTimes:2,duration:null,examDate:null,waitTime:null,min2ms:6e4,s2ms:1e3,host:"http://3.38.144.35:5000",LoginVisible:!1,WarnVisible:!1,WarnModalVisible:!1,confirmVisible:!1,qimgs:i.a.createElement("div",null,i.a.createElement("img",{src:a(622),className:"d-block w-100",style:{maxWidth:"1280px",maxHeight:"640px",alignSelf:"center"},alt:"..."}))},n.onBlur=function(){"E"===n.state.sta&&(n.state.blurTimes--,n.state.blurTimes<0?(n.state.sta="Q",alert("Exam qualification is canceled!")):alert("Warning: What are you doing?"))},n.updateQuestionImg=function(e){var t=Object(F.a)(n);_.a.get(t.state.host+"/getQuestionImg",{params:{eid:e}}).then(function(e){var a=e.data,n=[];t.setState({qarr:[]});for(var s=0;s<Object.keys(a).length;s++){var o=a[s];t.state.qarr.push({idx:s,answer:[!1,!1,!1,!1]});var l=i.a.createElement("div",{key:s},i.a.createElement("img",{src:o,className:"d-block w-100 border border-primary",alt:"...",style:{maxWidth:"1280px",maxHeight:"640px"}}));n.push(l)}t.setState({qid:0}),t.setState({qimgs:n})}).catch(function(e){console.log(e)})},n.updateSid=function(){var e=Y()("#sidText").val();n.setState({sid:e});var t=Object(F.a)(n);_.a.get(t.state.host+"/getExamBYsid",{params:{sid:e}}).then(function(e){var a=!1;if(null==e.data)return console.log("No next exam!"),void t.setState({WarnVisible:!0});for(var n=e.data.Items.sort(function(e,t){return e.date-t.date}),i=0;i<n.length;i++)if(!n[i].hasOwnProperty("answer")){if(n[i].date>(new Date).getTime()){t.setState({eid:n[i].eid,duration:n[i].duration,examDate:n[i].date,sta:"W"}),a=!0;break}if(n[i].date+n[i].duration>(new Date).getTime()){t.setState({eid:n[i].eid,duration:n[i].duration,examDate:n[i].date,sta:"E"}),t.updateQuestionImg(t.state.eid),Y()("#answer_group").show(),a=!0;break}}!0===a?(Y()("#loginbut").html('StudentID:<span className="badge text-bg-secondary" id="sid"></span>'),Y()("#sid").html(t.state.sid),t.setState({WarnVisible:!1}),t.hideLoginVisible(),this.props.sendSID(this.state.sid)):(console.log("No next exam!"),t.setState({WarnVisible:!0}))}).catch(function(e){console.log(e)})},n.checkAnswer=function(e){for(var t=Object(F.a)(n),a=0;a<4;a++)if(t.state.qarr.length>0){var i=t.state.qarr;i[t.state.qid].answer[a]=document.getElementById("flexCheck"+a).checked,t.setState({qarr:i})}},n.submitAnswer=function(){"E"===n.state.sta?(console.log("EXAM END!"),n.setState({sta:"Q"}),_.a.post(n.state.host+"/updateData",{params:{sid:n.state.sid,eid:n.state.eid,update_at:(new Date).getTime(),answer:n.state.qarr}}).catch(function(e){console.log(e)})):n.showWarnModalVisible(),n.hideconfirmVisible()},n.showLoginVisible=function(){n.setState({LoginVisible:!0})},n.hideLoginVisible=function(){n.setState({LoginVisible:!1})},n.showWarnModalVisible=function(){n.setState({WarnModalVisible:!0})},n.hideWarnModalVisible=function(){n.setState({WarnModalVisible:!1})},n.showconfirmVisiblee=function(){n.setState({confirmVisible:!0})},n.hideconfirmVisible=function(){n.setState({confirmVisible:!1})},n.changeSlide=function(e){n.setState({qid:e});for(var t=0;t<4;t++)n.state.qarr.length>0&&(document.getElementById("flexCheck"+t).checked=n.state.qarr[e].answer[t])},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("blur",this.onBlur);var t=this;document.getElementById("addbut").onclick=function(){["110065511","110062558","106062242"].forEach(function(e,a){_.a.post(t.state.host+"/addData",{params:{sid:e,eid:2,duration:t.state.min2ms,date:(new Date).getTime()+.1*t.state.min2ms,update_at:(new Date).getTime()}}).catch(function(e){console.log(e)})})},Y()("#sid").html(this.state.sid),setInterval(function(){var t;null===e.state.sta?(t=(new Date).getTime()+480*e.state.min2ms,Y()("#dtime").html('<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" className="bi bi-clock" viewBox="0 0 16 16"><path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/></svg>\u73fe\u5728\u6642\u9593:<span>'+e.convertMsToTime(t,!0)+"</span>")):"W"===e.state.sta?((t=e.state.examDate-(new Date).getTime())<1e3&&(t=0,console.log("EXAM START!"),e.setState({sta:"E"}),e.updateQuestionImg(e.state.eid),Y()("#answer_group").show()),Y()("#dtime").html('<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" className="bi bi-clock" viewBox="0 0 16 16"><path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/></svg>\u8ddd\u96e2\u8003\u8a66\u6642\u9593:<span>'+e.convertMsToTime(t,!1)+"</span>")):"E"===e.state.sta?((t=e.state.examDate+e.state.duration-(new Date).getTime())<1e3&&(t=0,e.submitAnswer()),Y()("#dtime").html('<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" className="bi bi-clock" viewBox="0 0 16 16"><path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/></svg>\u5269\u9918\u8003\u8a66\u6642\u9593:<span>'+e.convertMsToTime(t,!1)+"</span>")):"Q"===e.state.sta&&Y()("#dtime").html("\u8003\u8a66\u7d50\u675f")},1e3);var a;a=function(e){e?console.log("confirm"):console.log("close")},Y()("#btn-confirm").on("click",function(){t.setState({confirmVisible:!0})}),Y()("#modal-btn-si").on("click",function(){a(!0),t.setState({confirmVisible:!1})}),Y()("#modal-btn-no").on("click",function(){a(!1),t.setState({confirmVisible:!1})})}},{key:"padTo2Digits",value:function(e){return e.toString().padStart(2,"0")}},{key:"convertMsToTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Math.floor(e/1e3),n=Math.floor(a/60),i=Math.floor(n/60);return a%=60,n%=60,t&&(i%=24),"".concat(this.padTo2Digits(i),":").concat(this.padTo2Digits(n),":").concat(this.padTo2Digits(a))}},{key:"render",value:function(){var e=function(e){var t=e.className,a=e.style,n=e.onClick;return i.a.createElement("div",null,i.a.createElement(K.a,{className:t,style:Object(w.a)({},a,{color:"black",fontSize:"15px",lineHeight:"1.5715"}),onClick:n}))},t=function(e){var t=e.className,a=e.style,n=e.onClick;return i.a.createElement("div",null,i.a.createElement(X.a,{className:t,style:Object(w.a)({},a,{color:"black",fontSize:"15px",lineHeight:"1.5715"}),onClick:n}))},a={nextArrow:i.a.createElement(e,null),prevArrow:i.a.createElement(t,null)};return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row justify-content-between"},i.a.createElement("button",{type:"button",className:"btn btn-primary col",id:"addbut",style:{maxWidth:"180px"}},"Add Exam"),i.a.createElement("button",{type:"button",className:"btn btn-primary col align-self-end",id:"loginbut",onClick:this.showLoginVisible,style:{maxWidth:"180px"}},"Login",i.a.createElement("span",{className:"badge text-bg-secondary ",id:"sid"},"NULL"))),i.a.createElement("div",{className:""},i.a.createElement("div",{className:"row justify-content-start"},i.a.createElement("h3",{className:"",style:{textAlign:"left",marginTop:"20px"},id:"dtime"},"Time:",i.a.createElement("span",null))),i.a.createElement(U.a,Object.assign({arrows:!0},a,{afterChange:this.changeSlide,id:"carouselImg"}),this.state.qimgs)),i.a.createElement("div",{id:"answer_group"},i.a.createElement("div",{className:"form justify-content-between"},i.a.createElement("div",{className:"inputGroup col-3"},i.a.createElement("input",{name:"flexCheck0",type:"checkbox",value:"0",id:"flexCheck0",onClick:this.checkAnswer}),i.a.createElement("label",{htmlFor:"flexCheck0"},"A")),i.a.createElement("div",{className:"inputGroup col-3"},i.a.createElement("input",{name:"flexCheck1",type:"checkbox",value:"1",id:"flexCheck1",onClick:this.checkAnswer}),i.a.createElement("label",{htmlFor:"flexCheck1"},"B")),i.a.createElement("div",{className:"inputGroup col-3"},i.a.createElement("input",{name:"flexCheck2",type:"checkbox",value:"2",id:"flexCheck2",onClick:this.checkAnswer}),i.a.createElement("label",{htmlFor:"flexCheck2"},"C")),i.a.createElement("div",{className:"inputGroup col-3"},i.a.createElement("input",{name:"flexCheck3",type:"checkbox",value:"3",id:"flexCheck3",onClick:this.checkAnswer}),i.a.createElement("label",{htmlFor:"flexCheck3"},"D"))),i.a.createElement("div",{className:"row justify-content-end"},i.a.createElement("button",{type:"button",className:"btn btn-primary",id:"btn-confirm"},"Submit"))),i.a.createElement(d.a,{visible:this.state.LoginVisible,title:"Please enter your student ID",onCancel:this.hideLoginVisible,onOk:this.updateSid},i.a.createElement("input",{id:"sidText",type:"text",className:"form-control",placeholder:"Student ID","aria-label":"Student ID","aria-describedby":"basic-addon2"}),this.state.WarnVisible?i.a.createElement("div",{id:"warn_nodata",className:"alert alert-danger",role:"alert"},"\u6c92\u6709\u8a72\u5b78\u751f\u8003\u8a66\u8cc7\u6599!"):null),i.a.createElement(d.a,{visible:this.state.WarnModalVisible,title:"Warning",onCancel:this.hideWarnModalVisible,onOk:this.hideWarnModalVisible},"\u7121\u6cd5\u63d0\u4ea4!\u73fe\u5728\u975e\u8003\u8a66\u6642\u9593\u5167!"),i.a.createElement(d.a,{visible:this.state.confirmVisible,title:"Answers submit",onCancel:this.hideconfirmVisible,onOk:this.submitAnswer},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-exclamation-triangle",viewBox:"0 0 16 16"},i.a.createElement("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),i.a.createElement("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"})),"Are you finished all questions?"))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).cookies=new q.a,a.state={streamsData:[],loading:!1,visible:!1,password:""},a.columns=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return i.a.createElement("text",null,e)}},{title:"Camera",dataIndex:"camera",key:"camera",render:function(e,t){return i.a.createElement(z,{url:"/".concat(t.app,"/").concat(t.name,".flv"),type:"flv",width:"300px",height:"300px"})}}],a.updatePass=function(e){var t=e.target.value;a.setState({password:t}),a.cookies.set("pass",t,{path:"/",maxAge:31536e3})},a.openVideo=function(e){var t="";if(a.state.password){var n=G.a.create(),s=Date.now()+3e4;n.update("/".concat(e.app,"/").concat(e.name,"-").concat(s,"-").concat(a.state.password));var o=n.hex();t="?sign=".concat(s,"-").concat(o)}a.videoModal=d.a.info({icon:null,title:"Video Player",width:640,height:480,content:i.a.createElement(z,{url:"/".concat(e.app,"/").concat(e.name,".flv").concat(t),type:"flv"})})},a.fetch=function(){a.setState({loading:!0}),fetch("/api/streams",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=[],n=0;for(var i in e)for(var s in e[i]){var o=e[i][s].publisher,l=e[i][s].subscribers;if(o){var r=(new Date).getTime()/1e3,A=new Date(o.connectCreated).getTime()/1e3,c={key:n++,app:i,name:s,id:o.clientId,ip:o.ip,ac:o.audio?o.audio.codec+" "+o.audio.profile:"",freq:o.audio?o.audio.samplerate:"",chan:o.audio?o.audio.channels:"",vc:o.video?o.video.codec+" "+o.video.profile:"",size:o.video?o.video.width+"x"+o.video.height:"",fps:o.video?Math.floor(o.video.fps):"",time:M(r-A),clients:l.length};t.push(c)}}a.setState({loading:!1,streamsData:t})}).catch(function(e){a.setState({loading:!1})})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({password:this.cookies.get("pass")}),this.fetch()}},{key:"render",value:function(){return i.a.createElement(l.a,null,i.a.createElement(c.a,{dataSource:this.state.streamsData,columns:this.columns,loading:this.state.loading,bordered:!0,small:!0,pagination:!1}))}}]),t}(n.Component),ee=(a(634),g.a.Header),te=g.a.Sider,ae=g.a.Content,ne=g.a.Footer,ie=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).fullTitle="Invigilation",a.shortTitle="NFT",a.state={collapsed:!1,title:a.fullTitle,pathname:"/"},a.toggle=function(){a.setState({collapsed:!a.state.collapsed,title:a.state.collapsed?a.fullTitle:a.shortTitle})},a.cookies=new q.a,a.state={streamsData:[],loading:!1,visible:!1,password:"",sid:"",table:i.a.createElement("div",null)},a.columns=[{title:"Camera",dataIndex:"Camera",key:"Camera",render:function(e,t){return i.a.createElement(z,{url:"/".concat(t.app,"/").concat(t.name,".flv"),type:"flv",width:"100px",height:"100px"})}}],a.updatePass=function(e){var t=e.target.value;a.setState({password:t}),a.cookies.set("pass",t,{path:"/",maxAge:31536e3})},a.openVideo=function(e){var t="";if(a.state.password){var n=G.a.create(),s=Date.now()+3e4;n.update("/".concat(e.app,"/").concat(e.name,"-").concat(s,"-").concat(a.state.password));var o=n.hex();t="?sign=".concat(s,"-").concat(o)}a.videoModal=d.a.info({icon:null,title:"Video Player",width:640,height:480,content:i.a.createElement(z,{url:"/".concat(e.app,"/").concat(e.name,".flv").concat(t),type:"flv"})})},a.receiveSID=function(e){a.state.sid=e},a.fetch=function(){a.setState({loading:!0}),fetch("/api/streams",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=[],n=0;for(var s in e)for(var o in e[s])if(o==a.state.sid){var l=e[s][o].publisher,r=e[s][o].subscribers;if(l){var A=(new Date).getTime()/1e3,d=new Date(l.connectCreated).getTime()/1e3,m={key:n++,app:s,name:o,id:l.clientId,ip:l.ip,ac:l.audio?l.audio.codec+" "+l.audio.profile:"",freq:l.audio?l.audio.samplerate:"",chan:l.audio?l.audio.channels:"",vc:l.video?l.video.codec+" "+l.video.profile:"",size:l.video?l.video.width+"x"+l.video.height:"",fps:l.video?Math.floor(l.video.fps):"",time:M(A-d),clients:r.length};t.push(m)}}a.setState({loading:!1,streamsData:t}),a.setState({table:i.a.createElement(c.a,{dataSource:a.state.streamsData,columns:a.columns,loading:a.state.loading,bordered:!0,small:!0,pagination:!1})})}).catch(function(e){a.setState({loading:!1})})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){console.log(e,t)}},{key:"componentDidMount",value:function(){this.setState({password:this.cookies.get("pass")}),this.fetch()}},{key:"render",value:function(){var e=this;return i.a.createElement(v.a,null,i.a.createElement(g.a,{style:{minHeight:"100vh"}},i.a.createElement(te,{width:256,trigger:null,collapsible:!0,collapsed:this.state.collapsed},i.a.createElement("div",{className:"logo"},i.a.createElement("h1",null,this.state.title)),i.a.createElement(r.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[Object(y.a)().location.pathname]},i.a.createElement(r.a.Item,{key:"/admin/"},i.a.createElement(v.b,{to:"/admin/"},i.a.createElement(A.a,{type:"dashboard"}),i.a.createElement("span",null,"Dashboard"))),i.a.createElement(r.a.Item,{key:"/admin/streams"},i.a.createElement(v.b,{to:"/admin/streams"},i.a.createElement(A.a,{type:"video-camera"}),i.a.createElement("span",null,"Streams"))),i.a.createElement(r.a.Item,{key:"/admin/invigilation"},i.a.createElement(v.b,{to:"/admin/invigilation"},i.a.createElement(A.a,{type:"video-camera"}),i.a.createElement("span",null,"Invigilation"))),i.a.createElement(r.a.Item,{key:"/admin/profile"},i.a.createElement(v.b,{to:"/admin/profile"},i.a.createElement(A.a,{type:"profile"}),i.a.createElement("span",null,"Profile"))),i.a.createElement(r.a.Item,{key:"/admin/answer"},i.a.createElement(v.b,{to:"/admin/answer"},i.a.createElement(A.a,{type:"profile"}),i.a.createElement("span",null,"Answer")))),i.a.createElement(l.a,null,this.state.table)),i.a.createElement(g.a,null,i.a.createElement(ee,{style:{background:"#fff",padding:0}},i.a.createElement(A.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),i.a.createElement(ae,{style:{margin:"24px 16px",minHeight:280}},i.a.createElement(b.a,{exact:!0,path:"/admin",component:V}),i.a.createElement(b.a,{path:"/admin/streams",component:R}),i.a.createElement(b.a,{path:"/admin/invigilation",component:$}),i.a.createElement(b.a,{path:"/admin/profile",component:B}),i.a.createElement(b.a,{path:"/admin/answer",render:function(){return i.a.createElement(Z,{sendSID:e.receiveSID})}})),i.a.createElement(ne,{style:{textAlign:"center"}},"Node-Media-Server \xa92019 Created by ",i.a.createElement("a",{href:"http://nodemedia.cn",rel:"noopener noreferrer",target:"_blank"},"NodeMedia"),"."))))}}]),t}(n.Component);o.a.render(i.a.createElement(ie,null),document.getElementById("root"))}},[[305,1,2]]]);
//# sourceMappingURL=main.ab7aaad3.chunk.js.map