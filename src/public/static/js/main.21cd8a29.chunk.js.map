{"version":3,"sources":["assets/Black_flag.svg.png","Util.js","Dashboard.js","Profile.js","Flvplayer.js","Streams.js","Answer.js","Invigilation.js","App.js","index.js"],"names":["module","exports","bytesToSize","bytes","Number","i","parseInt","Math","floor","log","round","pow","bytesToBand","bits","secondsToDhms","seconds","d","h","m","s","secondsToDhmsSimple","getOption","name","title","text","tooltip","trigger","grid","left","right","bottom","containLabel","xAxis","type","boundaryGap","data","yAxis","max","series","areaStyle","normal","Dashboard","count","lastInBytes","lastOtBytes","state","cpuOption","memOption","conOption","legend","netOption","axisPointer","animation","link","xAxisIndex","height","top","axisLine","onZero","show","gridIndex","position","inverse","yAxisIndex","fetch","credentials","then","response","json","_this","net","inbytes","outbytes","now","Date","axisData","toLocaleTimeString","replace","Object","objectSpread","shift","uptime","push","cpu","load","mem","free","totle","toFixed","clients","rtmp","http","ws","setState","catch","e","this","timer","setInterval","clearInterval","react_default","a","createElement","row","style","margin","col","span","padding","card","core_default","echarts","ref","option","width","marginTop","Component","columns","dataIndex","key","Profile","loading","osInfo","value","os","arch","platform","release","cpuInfo","num","model","memInfo","nodeInfo","nodejs","version","uptimeInfo","versionInfo","react","icon","paddingLeft","fontSize","table","dataSource","pagination","showHeader","Flvplayer","initFlv","$video","flvjs","isSupported","flvPlayer","createPlayer","props","config","attachMediaElement","play","unload","detachMediaElement","destroy","_this$props","className","assign","Streams","cookies","Cookies","streamsData","visible","password","render","record","href","onClick","openVideo","children","updatePass","target","set","path","maxAge","sign","hash","md5","create","ext","update","concat","app","hex","videoModal","modal","info","content","Flvplayer_Flvplayer","url","index","stream","publisher","subscribers","getTime","str","connectCreated","streamData","id","clientId","ip","ac","audio","codec","profile","freq","samplerate","chan","channels","vc","video","size","fps","time","length","get","input","Password","prefix","color","marginBottom","placeholder","onChange","bordered","small","Answer","sid","eid","qid","qarr","sta","blurTimes","duration","examDate","waitTime","min2ms","s2ms","host","LoginVisible","WarnVisible","WarnModalVisible","confirmVisible","qimgs","src","require","maxWidth","maxHeight","alignSelf","alt","onBlur","alert","updateQuestionImg","self","assertThisInitialized","axios","params","res","images","carousel_items","keys","element","idx","answer","carousel_item","error","console","updateSid","new_sid","$","val","found","sorted_data","Items","sort","b","hasOwnProperty","html","hideLoginVisible","sendSID","checkAnswer","event","tmp","document","getElementById","checked","submitAnswer","post","update_at","showWarnModalVisible","hideconfirmVisible","showLoginVisible","hideWarnModalVisible","showconfirmVisiblee","changeSlide","currentSlide","_this2","window","addEventListener","onclick","forEach","date","displayTime","convertMsToTime","callback","confirm","on","toString","padStart","milliseconds","showcur","arguments","undefined","minutes","hours","padTo2Digits","SampleNextArrow","RightOutlined","lineHeight","SamplePrevArrow","LeftOutlined","settings","nextArrow","prevArrow","textAlign","carousel","arrows","afterChange","htmlFor","onCancel","onOk","aria-label","aria-describedby","role","xmlns","fill","viewBox","Header","Sider","Content","Footer","App","fullTitle","shortTitle","collapsed","pathname","toggle","receiveSID","nextProps","nextContext","react_router_dom","layout","minHeight","collapsible","menu","theme","mode","defaultSelectedKeys","createBrowserHistory","location","Item","to","background","react_router","exact","component","Invigilation","src_Answer","rel","ReactDOM","src_App_0"],"mappings":"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","file":"static/js/main.21cd8a29.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAACgAAAAYAAQAAAACSjywBAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAd2KE6QAAAAHdElNRQfmBggLEiQOn/STAAAB9ElEQVR42u3BMQEAAADCoPVP7W8GoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIA3hmkAAcv6w+4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDYtMDhUMTE6MTg6MzYrMDA6MDCznK4wAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA2LTA4VDExOjE4OjM2KzAwOjAwwsEWjAAAAABJRU5ErkJggg==\"","\nexport function bytesToSize(bytes) {\n  if (bytes === 0) return '0 Byte';\n  bytes = Number(bytes);\n  let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  let i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n  return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n};\n\nexport function bytesToBand(bytes) {\n  if (bytes === 0) return 0;\n  let bits = Number(bytes) * 8;\n  return Math.round(bits / Math.pow(1024, 2), 2);\n};\n\nexport function secondsToDhms(seconds) {\n  seconds = Number(seconds);\n  let d = Math.floor(seconds / (3600 * 24));\n  let h = Math.floor(seconds % (3600 * 24) / 3600);\n  let m = Math.floor(seconds % 3600 / 60);\n  let s = Math.floor(seconds % 60);\n\n  let dDisplay = d > 0 ? d + (d === 1 ? \" day, \" : \" days, \") : \"\";\n  let hDisplay = h > 0 ? h + (h === 1 ? \" hour, \" : \" hours, \") : \"\";\n  let mDisplay = m > 0 ? m + (m === 1 ? \" minute, \" : \" minutes, \") : \"\";\n  let sDisplay = s > 0 ? s + (s === 1 ? \" second\" : \" seconds\") : \"\";\n  return dDisplay + hDisplay + mDisplay + sDisplay;\n}\n\nexport function secondsToDhmsSimple(seconds) {\n  seconds = Number(seconds);\n  let d = Math.floor(seconds / (3600 * 24));\n  let h = Math.floor(seconds % (3600 * 24) / 3600);\n  let m = Math.floor(seconds % 3600 / 60);\n  let s = Math.floor(seconds % 60);\n\n  let dDisplay = d > 0 ? d + \"d,\" : \"\";\n  let hDisplay = h > 0 ? h + \"h,\" : \"\";\n  let mDisplay = m > 0 ? m + \"m,\" : \"\";\n  let sDisplay = s + \"s\";\n  return dDisplay + hDisplay + mDisplay + sDisplay;\n}","import React, { Component } from 'react';\nimport { Card, Row, Col } from 'antd';\nimport { bytesToBand } from \"./Util\";\nimport ReactEchartsCore from 'echarts-for-react/lib/core';\nimport echarts from 'echarts/lib/echarts';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/title';\n\n\nfunction getOption(name) {\n  return {\n    title: {\n      text: name\n    },\n    tooltip: {\n      trigger: 'axis'\n    },\n    grid: {\n      left: '2%',\n      right: '4%',\n      bottom: '2%',\n      containLabel: true\n    },\n    xAxis: [\n      {\n        type: 'category',\n        boundaryGap: false,\n        data: []\n      }\n    ],\n    yAxis: [\n      {\n        type: 'value',\n        max: 100,\n      }\n    ],\n    series: [\n      {\n        name: name,\n        type: 'line',\n        areaStyle: { normal: {} },\n        data: []\n      },\n    ]\n  };\n}\n\nfunction getConnOption() {\n  return {\n    title: {\n      text: \"Connections\"\n    },\n    tooltip: {\n      trigger: 'axis'\n    },\n    legend: {\n      data: ['Rtmp', 'Http', 'WebSocket']\n    },\n    grid: {\n      left: '2%',\n      right: '4%',\n      bottom: '2%',\n      containLabel: true\n    },\n    xAxis: [\n      {\n        type: 'category',\n        boundaryGap: false,\n        data: []\n      }\n    ],\n    yAxis: [\n      {\n        type: 'value',\n      }\n    ],\n    series: [\n      {\n        name: \"Rtmp\",\n        type: 'line',\n        data: []\n      },\n      {\n        name: \"Http\",\n        type: 'line',\n        data: []\n      },\n      {\n        name: \"WebSocket\",\n        type: 'line',\n        data: []\n      },\n    ]\n  };\n}\n\nfunction getNetOption() {\n  return {\n    title: {\n      text: 'Network Bandwidth',\n    },\n    tooltip: {\n      trigger: 'axis',\n      axisPointer: {\n        animation: false\n      }\n    },\n    axisPointer: {\n      link: { xAxisIndex: 'all' }\n    },\n    legend: {\n      data: ['Input', 'Output']\n    },\n    grid: [{\n      left: 50,\n      right: 50,\n      height: '35%'\n    }, {\n      left: 50,\n      right: 50,\n      top: '55%',\n      height: '35%'\n    }],\n    xAxis: [\n      {\n        type: 'category',\n        boundaryGap: false,\n        axisLine: { onZero: true },\n        data: [],\n        show: false,\n      },\n      {\n        gridIndex: 1,\n        type: 'category',\n        boundaryGap: false,\n        axisLine: { onZero: true },\n        data: [],\n        position: 'bottom'\n      }\n    ],\n    yAxis: [\n      {\n        name: 'Mbps',\n        type: 'value',\n      },\n      {\n        gridIndex: 1,\n        type: 'value',\n        inverse: true\n      }\n    ],\n    series: [\n      {\n        name: 'Input',\n        type: 'line',\n        data: []\n      },\n      {\n        name: 'Output',\n        type: 'line',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        data: []\n      }\n    ]\n  };\n}\n\nclass Dashboard extends Component {\n  count = 0;\n  lastInBytes = 0;\n  lastOtBytes = 0;\n\n  state = {\n    cpuOption: getOption('CPU Usage'),\n    memOption: getOption('Memory Usage'),\n    conOption: getConnOption(),\n    netOption: getNetOption(),\n  };\n\n  componentDidMount() {\n    this.fetch();\n    this.timer = setInterval(this.fetch, 2000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  fetch = () => {\n    fetch('/api/server', {\n      credentials: 'include'\n    }).then(function (response) {\n      return response.json();\n    }).then((data) => {\n      this.lastInBytes = this.lastInBytes || data.net.inbytes;\n      this.lastOtBytes = this.lastOtBytes || data.net.outbytes;\n\n      let now = new Date();\n      let axisData = now.toLocaleTimeString().replace(/^\\D*/, '');\n\n      let cpuOption = { ...this.state.cpuOption };\n      let memOption = { ...this.state.memOption };\n      let conOption = { ...this.state.conOption };\n      let netOption = { ...this.state.netOption };\n\n      if (this.count++ > 30) {\n        cpuOption.xAxis[0].data.shift();\n        cpuOption.series[0].data.shift();\n\n        memOption.xAxis[0].data.shift();\n        memOption.series[0].data.shift();\n\n        conOption.xAxis[0].data.shift();\n        conOption.series[0].data.shift();\n        conOption.series[1].data.shift();\n        conOption.series[2].data.shift();\n\n        netOption.xAxis[0].data.shift();\n        netOption.xAxis[1].data.shift();\n        netOption.series[0].data.shift();\n        netOption.series[1].data.shift();\n      }\n\n      cpuOption.uptime = now;\n      cpuOption.xAxis[0].data.push(axisData);\n      cpuOption.series[0].data.push(data.cpu.load);\n\n      memOption.uptime = now;\n      memOption.xAxis[0].data.push(axisData);\n      memOption.series[0].data.push((100 - 100 * data.mem.free / data.mem.totle).toFixed(2));\n\n      conOption.uptime = now;\n      conOption.title.text = \"Connections \" + (data.clients.rtmp + data.clients.http + data.clients.ws);\n      conOption.xAxis[0].data.push(axisData);\n      conOption.series[0].data.push(data.clients.rtmp);\n      conOption.series[1].data.push(data.clients.http);\n      conOption.series[2].data.push(data.clients.ws);\n\n      netOption.uptime = now;\n      netOption.xAxis[0].data.push(axisData);\n      netOption.xAxis[1].data.push(axisData);\n      netOption.series[0].data.push(bytesToBand((data.net.inbytes - this.lastInBytes) / 2));\n      netOption.series[1].data.push(bytesToBand((data.net.outbytes - this.lastOtBytes) / 2));\n      this.lastInBytes = data.net.inbytes;\n      this.lastOtBytes = data.net.outbytes;\n      this.setState({ cpuOption, memOption, conOption, netOption });\n    }).catch(e => {\n    });\n  }\n\n  render() {\n\n    return (\n      <Row style={{ margin: \"0 -12px\" }}>\n        <Col span={12} style={{ padding: \"0 12px\" }}>\n          <Card>\n            <ReactEchartsCore\n              echarts={echarts}\n              ref='echarts_react'\n              option={this.state.conOption}\n              style={{ height: '348px', width: '100%' }}\n            />\n          </Card>\n\n        </Col>\n        <Col span={12} style={{ padding: \"0 12px\" }}>\n          <Card>\n            <ReactEchartsCore\n              echarts={echarts}\n              ref='echarts_react'\n              option={this.state.netOption}\n              style={{ height: '348px', width: '100%' }}\n            />\n          </Card>\n        </Col>\n\n        <Col span={12} style={{ padding: \"0 12px\", marginTop: \"16px\" }}>\n          <Card>\n            <ReactEchartsCore\n              echarts={echarts}\n              ref='echarts_react'\n              option={this.state.cpuOption}\n              style={{ height: '300px', width: '100%' }}\n            />\n          </Card>\n        </Col>\n        <Col span={12} style={{ padding: \"0 12px\", marginTop: \"16px\" }}>\n          <Card>\n            <ReactEchartsCore\n              echarts={echarts}\n              ref='echarts_react'\n              option={this.state.memOption}\n              style={{ height: '300px', width: '100%' }}\n            />\n          </Card>\n        </Col>\n      </Row>\n\n    );\n  }\n\n}\n\nexport default Dashboard;\n","import React, { Component, Fragment } from 'react';\nimport { Card, Icon, Table } from \"antd\";\nimport { bytesToSize, secondsToDhms } from \"./Util\";\n\nconst columns = [{\n    dataIndex: 'name',\n    key: 'name',\n    width: 200\n}, {\n    dataIndex: 'value',\n    key: 'value',\n}];\n\nclass Profile extends Component {\n\n    state = {\n        data: [],\n        loading: false,\n    };\n\n    componentDidMount() {\n        this.fetch();\n    }\n\n    fetch = () => {\n        this.setState({ loading: true });\n        fetch('/api/server', {\n            credentials: 'include'\n        }).then(function (response) {\n            return response.json();\n        }).then((data) => {\n            // Read total count from server\n            let osInfo = { key: 0, name: 'OS', value: data.os.arch + \"_\" + data.os.platform + \"_\" + data.os.release };\n            let cpuInfo = { key: 1, name: \"CPU\", value: data.cpu.num + \" x \" + data.cpu.model };\n            let memInfo = { key: 2, name: \"Memory\", value: bytesToSize(data.mem.totle) };\n            let nodeInfo = { key: 3, name: \"Node.js\", value: data.nodejs.version };\n            let uptimeInfo = { key: 4, name: \"Uptime\", value: secondsToDhms(data.nodejs.uptime) };\n            let versionInfo = { key: 5, name: \"Version\", value: data.version };\n            this.setState({\n                loading: false,\n                data: [osInfo, cpuInfo, memInfo, nodeInfo, uptimeInfo, versionInfo],\n            });\n        }).catch(e => {\n            this.setState({\n                loading: false,\n            });\n        });\n    }\n\n\n    render() {\n        return (\n            <Card title={<Fragment>\n                <Icon type=\"hdd\" />\n                <span style={{ paddingLeft: \"12px\", fontSize: \"16px\" }}>Server Info</span>\n            </Fragment>}>\n\n                <Table\n                    dataSource={this.state.data}\n                    columns={columns}\n                    loading={this.state.loading}\n                    pagination={false}\n                    showHeader={false} />\n            </Card>\n        );\n    }\n};\n\nexport default Profile;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport flvjs from 'flv.js';\n\n/**\n * react component wrap flv.js\n */\nexport default class Flvplayer extends Component {\n\n  static propTypes = {\n    className: PropTypes.string,\n    style: PropTypes.object,\n    /**\n     * media URL, can be starts with 'https(s)' or 'ws(s)' (WebSocket)\n     */\n    url: PropTypes.string,\n    /**\n     * media type, 'flv' or 'mp4'\n     */\n    type: PropTypes.oneOf(['flv', 'mp4']).isRequired,\n    /**\n     * whether the data source is a **live stream**\n     */\n    isLive: PropTypes.bool,\n    /**\n     * whether to enable CORS for http fetching\n     */\n    cors: PropTypes.bool,\n    /**\n     * whether to do http fetching with cookies\n     */\n    withCredentials: PropTypes.bool,\n    /**\n     * whether the stream has audio track\n     */\n    hasAudio: PropTypes.bool,\n    /**\n     * whether the stream has video track\n     */\n    hasVideo: PropTypes.bool,\n    /**\n     * total media duration, in milliseconds\n     */\n    duration: PropTypes.bool,\n    /**\n     * total file size of media file, in bytes\n     */\n    filesize: PropTypes.number,\n    /**\n     * Optional field for multipart playback, see MediaSegment\n     */\n    segments: PropTypes.arrayOf(PropTypes.shape({\n      /**\n       * indicates segment duration in milliseconds\n       */\n      duration: PropTypes.number.isRequired,\n      /**\n       * indicates segment file size in bytes\n       */\n      filesize: PropTypes.number,\n      /**\n       * indicates segment file URL\n       */\n      url: PropTypes.string.isRequired,\n    })),\n    /**\n     * @see https://github.com/Bilibili/flv.js/blob/master/docs/api.md#config\n     */\n    config: PropTypes.object,\n  }\n\n  initFlv = ($video) => {\n    if ($video) {\n      if (flvjs.isSupported()) {\n        let flvPlayer = flvjs.createPlayer({ ...this.props }, this.props.config);\n        flvPlayer.attachMediaElement($video);\n        flvPlayer.load();\n        flvPlayer.play();\n        this.flvPlayer = flvPlayer;\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.flvPlayer) {\n      this.flvPlayer.unload();\n      this.flvPlayer.detachMediaElement();\n      this.flvPlayer.destroy();\n    }\n  }\n\n  render() {\n    const { className, style } = this.props;\n    return (\n      <video\n        className={className}\n        style={Object.assign({\n          width: '100%',\n        }, style)}\n        ref={this.initFlv}\n      />\n    )\n  }\n}","import React, { Component } from 'react';\nimport { Icon, Card, Table, Modal, Input } from \"antd\";\nimport { secondsToDhmsSimple } from \"./Util\";\nimport Flvplayer from \"./Flvplayer\";\nimport Cookies from 'universal-cookie';\nimport md5 from 'js-md5';\n\nclass Streams extends Component {\n  cookies = new Cookies();\n\n  state = {\n    streamsData: [],\n    loading: false,\n    visible: false,\n    password: ''\n  };\n\n  columns = [{\n    title: 'App',\n    dataIndex: 'app',\n    key: 'app',\n  }, {\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n    render: (name, record) => {\n      return <a href=\"##\" onClick={() => this.openVideo(record)}>{name}</a>;\n    }\n  }, {\n    title: 'ID',\n    dataIndex: 'id',\n    key: 'id',\n  }, {\n    title: 'IP',\n    dataIndex: 'ip',\n    key: 'ip',\n  }, {\n    title: 'Audio',\n    children: [{\n      title: 'codec',\n      dataIndex: 'ac',\n      key: 'ac',\n    }, {\n      title: 'freq',\n      dataIndex: 'freq',\n      key: 'freq',\n    }, {\n      title: 'chan',\n      dataIndex: 'chan',\n      key: 'chan',\n    },\n    ]\n  }, {\n    title: 'Video',\n    children: [{\n      title: 'codec',\n      dataIndex: 'vc',\n      key: 'vc',\n    }, {\n      title: 'size',\n      dataIndex: 'size',\n      key: 'size',\n    }, {\n      title: 'fps',\n      dataIndex: 'fps',\n      key: 'fps',\n    },]\n  },\n  {\n    title: 'Time',\n    dataIndex: 'time',\n    key: 'time',\n  }, {\n    title: 'Clients',\n    dataIndex: 'clients',\n    key: 'clients',\n  }];\n\n  componentDidMount() {\n    this.setState({\n      password: this.cookies.get('pass')\n    })\n    this.fetch();\n  }\n\n  updatePass = (e) => {\n    let password = e.target.value;\n    this.setState({\n      password\n    });\n    this.cookies.set('pass', password, { path: '/', maxAge: 31536000 })\n  }\n\n  openVideo = (record) => {\n    let sign = '';\n    if (this.state.password) {\n      let hash = md5.create();\n      let ext = Date.now() + 30000;\n      hash.update(`/${record.app}/${record.name}-${ext}-${this.state.password}`);\n      let key = hash.hex();\n      sign = `?sign=${ext}-${key}`;\n    }\n    this.videoModal = Modal.info({\n      icon: null,\n      title: \"Video Player\",\n      width: 640,\n      height: 480,\n      content: <Flvplayer url={`/${record.app}/${record.name}.flv${sign}`} type=\"flv\" />,\n    });\n  }\n\n  fetch = () => {\n    this.setState({ loading: true });\n    fetch('/api/streams', {\n      credentials: 'include'\n    }).then(function (response) {\n      return response.json();\n    }).then((data) => {\n      // Read total count from server\n      let streamsData = [];\n      let index = 0;\n      for (let app in data) {\n        for (let name in data[app]) {\n          let stream = data[app][name].publisher;\n          let clients = data[app][name].subscribers;\n          if (stream) {\n            let now = new Date().getTime() / 1000;\n            let str = new Date(stream.connectCreated).getTime() / 1000;\n            let streamData = {\n              key: index++,\n              app,\n              name,\n              id: stream.clientId,\n              ip: stream.ip,\n              ac: stream.audio ? stream.audio.codec + \" \" + stream.audio.profile : \"\",\n              freq: stream.audio ? stream.audio.samplerate : \"\",\n              chan: stream.audio ? stream.audio.channels : \"\",\n              vc: stream.video ? stream.video.codec + \" \" + stream.video.profile : \"\",\n              size: stream.video ? stream.video.width + \"x\" + stream.video.height : \"\",\n              fps: stream.video ? Math.floor(stream.video.fps) : \"\",\n              time: secondsToDhmsSimple(now - str),\n              clients: clients.length\n            };\n            streamsData.push(streamData);\n          }\n        }\n      }\n      this.setState({\n        loading: false,\n        streamsData,\n      });\n    }).catch(e => {\n      this.setState({\n        loading: false,\n      });\n    });\n  }\n\n\n  render() {\n    return (\n      <Card>\n        <Input.Password\n          size=\"large\"\n          prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n          style={{ marginBottom: \"16px\" }}\n          placeholder=\"input password\"\n          onChange={this.updatePass}\n          value={this.state.password} />\n        <Table\n          dataSource={this.state.streamsData}\n          columns={this.columns}\n          loading={this.state.loading}\n          bordered\n          small\n          pagination={false}\n        />\n      </Card>\n    );\n  }\n};\n\nexport default Streams;","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Modal, Carousel } from 'antd';\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\n\nclass Answer extends Component {\n  state = {\n    sid: '0', //student ID\n    eid: null, // exam ID\n    qid: 0, // question ID\n    qarr: [], // question image array\n    sta: null, // null: display current time, 'W': display time wait for exam, 'E': examing, display duration.\n    blurTimes: 2,\n    duration: null,\n    examDate: null,\n    waitTime: null,\n    min2ms: 60000, // minutes to ms\n    s2ms: 1000, // second to ms\n    host: 'http://3.38.144.35:5000',\n    LoginVisible: false,\n    WarnVisible: false,\n    WarnModalVisible: false,\n    confirmVisible: false,\n    qimgs: (\n      <div>\n        <img\n          src={require('./assets/Black_flag.svg.png')}\n          className=\"d-block w-100\"\n          style={{ maxWidth: '1280px', maxHeight: '640px', alignSelf: 'center' }}\n          alt=\"...\"\n        ></img>\n      </div>\n    ),\n  };\n\n  // onFocus = () => {\n  //   console.log(\"Tab is in focus\");\n  // };\n  onBlur = () => {\n    if (this.state.sta === \"E\") {\n      this.state.blurTimes--;\n  \n      if (this.state.blurTimes < 0) {\n        this.state.sta = 'Q';\n        alert(\"Exam qualification is canceled!\");\n      }\n      else {\n        alert(\"Warning: What are you doing?\");\n      }\n    }\n  };\n\n  componentDidMount() {\n    // window.addEventListener(\"focus\", this.onFocus);\n    window.addEventListener(\"blur\", this.onBlur);\n\n    var self = this;\n    document.getElementById('addbut').onclick = () => {\n      var students = ['110065511', '110062558', '106062242']; //, '110062558', '110062559']\n      students.forEach((val, idx) => {\n        axios\n          .post(self.state.host + '/addData', {\n            params: {\n              sid: val, // student id\n              eid: 2, // exam id\n              duration: self.state.min2ms,\n              date: new Date().getTime() + 0.1 * self.state.min2ms, // exam start times after now (in ms)\n              update_at: new Date().getTime(),\n            },\n          })\n          .catch(function (error) {\n            console.log(error); // handle error\n          });\n      });\n    };\n    // $('#answer_group').hide();\n\n    $('#sid').html(this.state.sid);\n\n    setInterval(() => {\n      var displayTime;\n      if (this.state.sta === null) {\n        displayTime = new Date().getTime() + 8 * 60 * this.state.min2ms;\n        $('#dtime').html(\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-clock\" viewBox=\"0 0 16 16\">' +\n            '<path d=\"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z\"/>' +\n            '<path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z\"/>' +\n            '</svg>' +\n            '現在時間:' +\n            '<span>' +\n            this.convertMsToTime(displayTime, true) +\n            '</span>'\n        );\n      } else if (this.state.sta === 'W') {\n        displayTime = this.state.examDate - new Date().getTime();\n        if (displayTime < 1000) {\n          displayTime = 0;\n          console.log('EXAM START!');\n          //state = 'E';\n          this.setState({ sta: 'E' });\n          this.updateQuestionImg(this.state.eid);\n          $('#answer_group').show();\n        }\n        $('#dtime').html(\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-clock\" viewBox=\"0 0 16 16\">' +\n            '<path d=\"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z\"/>' +\n            '<path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z\"/>' +\n            '</svg>' +\n            '距離考試時間:' +\n            '<span>' +\n            this.convertMsToTime(displayTime, false) +\n            '</span>'\n        );\n      } else if (this.state.sta === 'E') {\n        displayTime =\n          this.state.examDate + this.state.duration - new Date().getTime();\n        if (displayTime < 1000) {\n          displayTime = 0;\n          this.submitAnswer();\n        }\n        $('#dtime').html(\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-clock\" viewBox=\"0 0 16 16\">' +\n            '<path d=\"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z\"/>' +\n            '<path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z\"/>' +\n            '</svg>' +\n            '剩餘考試時間:' +\n            '<span>' +\n            this.convertMsToTime(displayTime, false) +\n            '</span>'\n        );\n      } else if (this.state.sta === 'Q') {\n        $('#dtime').html('考試結束');\n      }\n    }, 1000);\n\n    var modalConfirm = function (callback) {\n      $('#btn-confirm').on('click', function () {\n        // $('#mi-modal').modal('show');\n        self.setState({ confirmVisible: true });\n      });\n\n      $('#modal-btn-si').on('click', function () {\n        callback(true);\n        //$('#mi-modal').modal('hide');\n        self.setState({ confirmVisible: false });\n      });\n\n      $('#modal-btn-no').on('click', function () {\n        callback(false);\n        //$('#mi-modal').modal('hide');\n        self.setState({ confirmVisible: false });\n      });\n    };\n    modalConfirm(function (confirm) {\n      if (confirm) {\n        //Acciones si el usuario confirma\n        console.log('confirm');\n      } else {\n        //Acciones si el usuario no confirma\n        console.log('close');\n      }\n    });\n  }\n  updateQuestionImg = (eid) => {\n    var self = this;\n    axios\n      .get(self.state.host + '/getQuestionImg', {\n        params: {\n          eid: eid,\n        },\n      })\n      .then(function (res) {\n        var images = res.data;\n        var carousel_items = [];\n\n        self.setState({ qarr: [] });\n        for (let i = 0; i < Object.keys(images).length; i++) {\n          const element = images[i];\n          self.state.qarr.push({\n            idx: i,\n            answer: [false, false, false, false],\n          });\n          var carousel_item = (\n            <div key={i}>\n              <img\n                src={element}\n                className=\"d-block w-100 border border-primary\"\n                alt=\"...\"\n                style={{ maxWidth: '1280px', maxHeight: '640px' }}\n              ></img>\n            </div>\n          );\n          carousel_items.push(carousel_item);\n        }\n        self.setState({ qid: 0 });\n        self.setState({ qimgs: carousel_items });\n\n        // document.getElementById('carouselImg').innerHTML = carousel_items;\n      })\n      .catch(function (error) {\n        console.log(error); // handle error\n      });\n  };\n  updateSid = () => {\n    var new_sid = $('#sidText').val();\n    this.setState({ sid: new_sid });\n    var self = this;\n    axios\n      .get(self.state.host + '/getExamBYsid', {\n        params: {\n          sid: new_sid,\n        },\n      })\n      .then(function (res) {\n        let found = false;\n        if (res.data == null) {\n          console.log('No next exam!');\n          self.setState({ WarnVisible: true });\n          return;\n        }\n        // sort the data by exam start date, pick the latest one.\n        var sorted_data = res.data.Items.sort((a, b) => {\n          return a['date'] - b['date'];\n        });\n\n        for (let i = 0; i < sorted_data.length; i++) {\n          // if answered, next\n          if (sorted_data[i].hasOwnProperty('answer')) continue;\n          if (sorted_data[i]['date'] > new Date().getTime()) {\n            // if current time is before exam start\n            self.setState({\n              eid: sorted_data[i]['eid'],\n              duration: sorted_data[i]['duration'],\n              examDate: sorted_data[i]['date'],\n              sta: 'W',\n            });\n            found = true;\n            break;\n          } else if (\n            sorted_data[i]['date'] + sorted_data[i]['duration'] >\n            new Date().getTime()\n          ) {\n            // if current time is during exam.\n            self.setState({\n              eid: sorted_data[i]['eid'],\n              duration: sorted_data[i]['duration'],\n              examDate: sorted_data[i]['date'],\n              sta: 'E',\n            });\n            self.updateQuestionImg(self.state.eid);\n            $('#answer_group').show();\n            found = true;\n            break;\n          }\n        }\n        if (found === true) {\n          $('#loginbut').html(\n            'StudentID:' +\n              '<span className=\"badge text-bg-secondary\" id=\"sid\"></span>'\n          );\n          $('#sid').html(self.state.sid); // change sid text to sid\n          self.setState({ WarnVisible: false });\n          self.hideLoginVisible();\n\n          self.props.sendSID(self.state.sid);\n\n        } else {\n          console.log('No next exam!');\n          self.setState({ WarnVisible: true });\n        }\n      })\n      .catch(function (error) {\n        console.log(error); // handle error\n        return;\n      });\n  };\n  padTo2Digits(num) {\n    return num.toString().padStart(2, '0');\n  }\n  convertMsToTime(milliseconds, showcur = false) {\n    let seconds = Math.floor(milliseconds / 1000);\n    let minutes = Math.floor(seconds / 60);\n    let hours = Math.floor(minutes / 60);\n    seconds = seconds % 60;\n    minutes = minutes % 60;\n    if (showcur) hours %= 24;\n    return `${this.padTo2Digits(hours)}:${this.padTo2Digits(\n      minutes\n    )}:${this.padTo2Digits(seconds)}`;\n  }\n  checkAnswer = (event) => {\n    let self = this;\n    for (let i = 0; i < 4; i++) {\n      if (self.state.qarr.length > 0) {\n        let tmp = self.state.qarr;\n        tmp[self.state.qid]['answer'][i] = document.getElementById(\n          'flexCheck' + i\n        ).checked;\n        self.setState({ qarr: tmp });\n      }\n    }\n  };\n\n  submitAnswer = () => {\n    if (this.state.sta === 'E') {\n      console.log('EXAM END!');\n      this.setState({ sta: 'Q' });\n      axios\n        .post(this.state.host + '/updateData', {\n          params: {\n            sid: this.state.sid, // student id\n            eid: this.state.eid, // exam id\n            update_at: new Date().getTime(),\n            answer: this.state.qarr,\n          },\n        })\n        .catch(function (error) {\n          console.log(error); // handle error\n        });\n    } else {\n      // $('#warn1-modal').modal('show');\n      this.showWarnModalVisible();\n    }\n    this.hideconfirmVisible();\n  };\n  showLoginVisible = () => {\n    this.setState({ LoginVisible: true });\n  };\n  hideLoginVisible = () => {\n    this.setState({ LoginVisible: false });\n  };\n  showWarnModalVisible = () => {\n    this.setState({ WarnModalVisible: true });\n  };\n  hideWarnModalVisible = () => {\n    this.setState({ WarnModalVisible: false });\n  };\n  showconfirmVisiblee = () => {\n    this.setState({ confirmVisible: true });\n  };\n  hideconfirmVisible = () => {\n    this.setState({ confirmVisible: false });\n  };\n  changeSlide = (currentSlide) => {\n    this.setState({ qid: currentSlide });\n    for (let i = 0; i < 4; i++) {\n      if (this.state.qarr.length > 0) {\n        document.getElementById('flexCheck' + i).checked =\n          this.state.qarr[currentSlide]['answer'][i];\n      }\n    }\n  };\n  render() {\n    const SampleNextArrow = (props) => {\n      const { className, style, onClick } = props;\n      return (\n        <div>\n          <RightOutlined\n            className={className}\n            style={{\n              ...style,\n              color: 'black',\n              fontSize: '15px',\n              lineHeight: '1.5715',\n            }}\n            onClick={onClick}\n          />\n        </div>\n      );\n    };\n\n    const SamplePrevArrow = (props) => {\n      const { className, style, onClick } = props;\n      return (\n        <div>\n          <LeftOutlined\n            className={className}\n            style={{\n              ...style,\n              color: 'black',\n              fontSize: '15px',\n              lineHeight: '1.5715',\n            }}\n            onClick={onClick}\n          />\n        </div>\n      );\n    };\n    const settings = {\n      nextArrow: <SampleNextArrow />,\n      prevArrow: <SamplePrevArrow />,\n    };\n    return (\n      <div className=\"container\">\n        <div className=\"row justify-content-between\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary col\"\n            id=\"addbut\"\n            style={{ maxWidth: '180px' }}\n          >\n            Add Exam\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary col align-self-end\"\n            id=\"loginbut\"\n            onClick={this.showLoginVisible}\n            style={{ maxWidth: '180px' }}\n          >\n            Login\n            <span className=\"badge text-bg-secondary \" id=\"sid\">\n              NULL\n            </span>\n          </button>\n        </div>\n        <div className=\"\">\n          <div className=\"row justify-content-start\">\n            <h3\n              className=\"\"\n              style={{ textAlign: 'left', marginTop: '20px' }}\n              id=\"dtime\"\n            >\n              Time:\n              <span></span>\n            </h3>\n          </div>\n          <Carousel\n            arrows\n            {...settings}\n            afterChange={this.changeSlide}\n            id=\"carouselImg\"\n          >\n            {this.state.qimgs}\n          </Carousel>\n        </div>\n\n        <div id=\"answer_group\">\n          <div className=\"form justify-content-between\">\n            <div className=\"inputGroup col-3\">\n              <input\n                name=\"flexCheck0\"\n                type=\"checkbox\"\n                value=\"0\"\n                id=\"flexCheck0\"\n                onClick={this.checkAnswer}\n              />\n              <label htmlFor=\"flexCheck0\">A</label>\n            </div>\n            <div className=\"inputGroup col-3\">\n              <input\n                name=\"flexCheck1\"\n                type=\"checkbox\"\n                value=\"1\"\n                id=\"flexCheck1\"\n                onClick={this.checkAnswer}\n              />\n              <label htmlFor=\"flexCheck1\">B</label>\n            </div>\n            <div className=\"inputGroup col-3\">\n              <input\n                name=\"flexCheck2\"\n                type=\"checkbox\"\n                value=\"2\"\n                id=\"flexCheck2\"\n                onClick={this.checkAnswer}\n              />\n              <label htmlFor=\"flexCheck2\">C</label>\n            </div>\n\n            <div className=\"inputGroup col-3\">\n              <input\n                name=\"flexCheck3\"\n                type=\"checkbox\"\n                value=\"3\"\n                id=\"flexCheck3\"\n                onClick={this.checkAnswer}\n              />\n              <label htmlFor=\"flexCheck3\">D</label>\n            </div>\n          </div>\n          <div className=\"row justify-content-end\">\n            <button type=\"button\" className=\"btn btn-primary\" id=\"btn-confirm\">\n              Submit\n            </button>\n          </div>\n        </div>\n\n        <Modal\n          visible={this.state.LoginVisible}\n          title=\"Please enter your student ID\"\n          onCancel={this.hideLoginVisible}\n          onOk={this.updateSid}\n        >\n          <input\n            id=\"sidText\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Student ID\"\n            aria-label=\"Student ID\"\n            aria-describedby=\"basic-addon2\"\n          ></input>\n          {this.state.WarnVisible ? (\n            <div id=\"warn_nodata\" className=\"alert alert-danger\" role=\"alert\">\n              沒有該學生考試資料!\n            </div>\n          ) : null}\n        </Modal>\n        <Modal\n          visible={this.state.WarnModalVisible}\n          title=\"Warning\"\n          onCancel={this.hideWarnModalVisible}\n          onOk={this.hideWarnModalVisible}\n        >\n          無法提交!現在非考試時間內!\n        </Modal>\n        <Modal\n          visible={this.state.confirmVisible}\n          title=\"Answers submit\"\n          onCancel={this.hideconfirmVisible}\n          onOk={this.submitAnswer}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"30\"\n            height=\"30\"\n            fill=\"currentColor\"\n            className=\"bi bi-exclamation-triangle\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path d=\"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z\" />\n            <path d=\"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z\" />\n          </svg>\n          Are you finished all questions?\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default Answer;\n","import React, { Component } from 'react';\nimport { Icon, Card, Table, Modal, Input } from \"antd\";\nimport { secondsToDhmsSimple } from \"./Util\";\nimport Flvplayer from \"./Flvplayer\";\nimport Cookies from 'universal-cookie';\nimport md5 from 'js-md5';\n\nclass Streams extends Component {\n  cookies = new Cookies();\n\n  state = {\n    streamsData: [],\n    loading: false,\n    visible: false,\n    password: ''\n  };\n\n  columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n    render: (name, record) => {\n      return <text>{name}</text>;\n    }\n  }, {\n    title: 'Camera',\n    dataIndex: 'camera',\n    key: 'camera',\n    render: (name, record) => {\n      return <Flvplayer url={`/${record.app}/${record.name}.flv`} type=\"flv\" width=\"300px\" height=\"300px\"/>;\n    }\n  }];\n\n  componentDidMount() {\n    this.setState({\n      password: this.cookies.get('pass')\n    })\n    this.fetch();\n  }\n\n  updatePass = (e) => {\n    let password = e.target.value;\n    this.setState({\n      password\n    });\n    this.cookies.set('pass', password, { path: '/', maxAge: 31536000 })\n  }\n\n  openVideo = (record) => {\n    let sign = '';\n    if (this.state.password) {\n      let hash = md5.create();\n      let ext = Date.now() + 30000;\n      hash.update(`/${record.app}/${record.name}-${ext}-${this.state.password}`);\n      let key = hash.hex();\n      sign = `?sign=${ext}-${key}`;\n    }\n    this.videoModal = Modal.info({\n      icon: null,\n      title: \"Video Player\",\n      width: 640,\n      height: 480,\n      content: <Flvplayer url={`/${record.app}/${record.name}.flv${sign}`} type=\"flv\" />,\n    });\n  }\n\n  fetch = () => {\n    this.setState({ loading: true });\n    fetch('/api/streams', {\n      credentials: 'include'\n    }).then(function (response) {\n      return response.json();\n    }).then((data) => {\n      // Read total count from server\n      let streamsData = [];\n      let index = 0;\n      for (let app in data) {\n        for (let name in data[app]) {\n          let stream = data[app][name].publisher;\n          let clients = data[app][name].subscribers;\n          if (stream) {\n            let now = new Date().getTime() / 1000;\n            let str = new Date(stream.connectCreated).getTime() / 1000;\n            let streamData = {\n              key: index++,\n              app,\n              name,\n              id: stream.clientId,\n              ip: stream.ip,\n              ac: stream.audio ? stream.audio.codec + \" \" + stream.audio.profile : \"\",\n              freq: stream.audio ? stream.audio.samplerate : \"\",\n              chan: stream.audio ? stream.audio.channels : \"\",\n              vc: stream.video ? stream.video.codec + \" \" + stream.video.profile : \"\",\n              size: stream.video ? stream.video.width + \"x\" + stream.video.height : \"\",\n              fps: stream.video ? Math.floor(stream.video.fps) : \"\",\n              time: secondsToDhmsSimple(now - str),\n              clients: clients.length\n            };\n            streamsData.push(streamData);\n          }\n        }\n      }\n      this.setState({\n        loading: false,\n        streamsData,\n      });\n    }).catch(e => {\n      this.setState({\n        loading: false,\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Card>\n        {/* <Input.Password\n          size=\"large\"\n          prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n          style={{ marginBottom: \"16px\" }}\n          placeholder=\"input password\"\n          onChange={this.updatePass}\n          value={this.state.password} /> */}\n        <Table\n          dataSource={this.state.streamsData}\n          columns={this.columns}\n          loading={this.state.loading}\n          bordered\n          small\n          pagination={false}\n        />\n      </Card>\n    );\n  }\n};\n\nexport default Streams;","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Link, Route } from \"react-router-dom\";\nimport { Button, Icon, Layout, Menu } from 'antd';\nimport { createBrowserHistory } from 'history';\nimport Dashboard from \"./Dashboard\";\nimport Profile from \"./Profile\";\nimport Streams from \"./Streams\";\nimport Answer from \"./Answer\";\nimport Invigilation from \"./Invigilation\";\n\nimport \"./App.css\"\n\nimport { Card, Table, Modal, Input } from \"antd\";\nimport { secondsToDhmsSimple } from \"./Util\";\nimport Flvplayer from \"./Flvplayer\";\nimport Cookies from 'universal-cookie';\nimport md5 from 'js-md5';\n\n\nconst { Header, Sider, Content, Footer } = Layout;\n\nclass App extends Component {\n\n    fullTitle = \"Invigilation\";\n\n    shortTitle = \"NFT\";\n\n    state = {\n        collapsed: false,\n        title: this.fullTitle,\n        pathname: \"/\"\n    };\n\n    toggle = () => {\n        this.setState({\n            collapsed: !this.state.collapsed,\n            title: this.state.collapsed ? this.fullTitle : this.shortTitle,\n        });\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        console.log(nextProps, nextContext);\n    }\n\n    cookies = new Cookies();\n\n  state = {\n    streamsData: [],\n    loading: false,\n    visible: false,\n    password: '',\n    sid: \"\",\n    // isInputSID: false,\n    table: <div></div>\n  };\n\n  columns = [{\n    title: 'Camera',\n    dataIndex: 'Camera',\n    key: 'Camera',\n    render: (name, record) => {\n        return <Flvplayer url={`/${record.app}/${record.name}.flv`} type=\"flv\" width=\"100px\" height=\"100px\"/>;\n    }\n  }];\n\n  componentDidMount() {\n    this.setState({\n      password: this.cookies.get('pass')\n    })\n  }\n\n  updatePass = (e) => {\n    let password = e.target.value;\n    this.setState({\n      password\n    });\n    this.cookies.set('pass', password, { path: '/', maxAge: 31536000 })\n  }\n\n//   updateSID = (e) => {\n//     let sid = e.target.value;\n//     this.setState({\n//       sid\n//     });\n//     setIsInputSID(true);\n//   }\n\n  openVideo = (record) => {\n    let sign = '';\n    if (this.state.password) {\n      let hash = md5.create();\n      let ext = Date.now() + 30000;\n      hash.update(`/${record.app}/${record.name}-${ext}-${this.state.password}`);\n      let key = hash.hex();\n      sign = `?sign=${ext}-${key}`;\n    }\n    this.videoModal = Modal.info({\n      icon: null,\n      title: \"Video Player\",\n      width: 640,\n      height: 480,\n      content: <Flvplayer url={`/${record.app}/${record.name}.flv${sign}`} type=\"flv\" />,\n    });\n  }\n\n  receiveSID = (sid) => {\n      this.setState({\n        sid: sid\n      });\n      this.fetch();\n  }\n\n  fetch = () => {\n    this.setState({ loading: true });\n    fetch('/api/streams', {\n      credentials: 'include'\n    }).then(function (response) {\n      return response.json();\n    }).then((data) => {\n      // Read total count from server\n      let streamsData = [];\n      let index = 0;\n      for (let app in data) {\n        for (let name in data[app]) {\n            if (name == this.state.sid) {\n                let stream = data[app][name].publisher;\n                let clients = data[app][name].subscribers;\n                if (stream) {\n                  let now = new Date().getTime() / 1000;\n                  let str = new Date(stream.connectCreated).getTime() / 1000;\n                  let streamData = {\n                    key: index++,\n                    app,\n                    name,\n                    id: stream.clientId,\n                    ip: stream.ip,\n                    ac: stream.audio ? stream.audio.codec + \" \" + stream.audio.profile : \"\",\n                    freq: stream.audio ? stream.audio.samplerate : \"\",\n                    chan: stream.audio ? stream.audio.channels : \"\",\n                    vc: stream.video ? stream.video.codec + \" \" + stream.video.profile : \"\",\n                    size: stream.video ? stream.video.width + \"x\" + stream.video.height : \"\",\n                    fps: stream.video ? Math.floor(stream.video.fps) : \"\",\n                    time: secondsToDhmsSimple(now - str),\n                    clients: clients.length\n                  };\n                  streamsData.push(streamData);\n                }\n            }\n        }\n      }\n      this.setState({\n        loading: false,\n        streamsData,\n      });\n      this.setState({\n        table: <Table\n          dataSource={this.state.streamsData}\n          columns={this.columns}\n          loading={this.state.loading}\n          bordered\n          small\n          pagination={false}\n        />\n      });\n    }).catch(e => {\n      this.setState({\n        loading: false,\n      });\n    });\n  }\n\n    render() {\n        return (\n            <Router>\n                <Layout style={{ minHeight: \"100vh\" }}>\n                    <Sider\n                        width={256}\n                        trigger={null}\n                        collapsible\n                        collapsed={this.state.collapsed}>\n\n                        <div className=\"logo\"><h1>{this.state.title}</h1></div>\n\n                        <Menu theme=\"dark\" mode=\"inline\"\n                            defaultSelectedKeys={[createBrowserHistory().location.pathname]}\n                        >\n                            <Menu.Item key=\"/admin/\">\n                                <Link to=\"/admin/\">\n                                    <Icon type=\"dashboard\" />\n                                    <span>Dashboard</span>\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"/admin/streams\">\n                                <Link to=\"/admin/streams\">\n                                    <Icon type=\"video-camera\" />\n                                    <span>Streams</span>\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"/admin/invigilation\">\n                                <Link to=\"/admin/invigilation\">\n                                    <Icon type=\"video-camera\" />\n                                    <span>Invigilation</span>\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"/admin/profile\">\n                                <Link to=\"/admin/profile\">\n                                    <Icon type=\"profile\" />\n                                    <span>Profile</span>\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"/admin/answer\">\n                                <Link to=\"/admin/answer\">\n                                    <Icon type=\"profile\" />\n                                    <span>Answer</span>\n                                </Link>\n                            </Menu.Item>\n                        </Menu>\n                        <Card>\n                            {/* <Input.Password\n                                size=\"large\"\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                style={{ marginBottom: \"16px\" }}\n                                placeholder=\"input password\"\n                                onChange={this.updatePass}\n                                value={this.state.password} /> */}\n                            {/* <Input\n                                size=\"large\"\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                style={{ marginBottom: \"16px\" }}\n                                placeholder=\"input studentID\"\n                                onChange={this.updateSID}\n                                value={this.state.sid}\n                                disabled={this.state.isInputSID} /> */}\n\n                            { this.state.table }\n                        </Card>\n                    </Sider>\n                    <Layout>\n                        <Header style={{ background: '#fff', padding: 0 }}>\n                            <Icon\n                                className=\"trigger\"\n                                type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\n                                onClick={this.toggle}\n                            />\n                        </Header>\n                        <Content style={{\n                            margin: '24px 16px', minHeight: 280,\n                        }}>\n                            <Route exact path=\"/admin\" component={Dashboard} />\n                            <Route path=\"/admin/streams\" component={Streams} />\n                            <Route path=\"/admin/invigilation\" component={Invigilation} />\n                            <Route path=\"/admin/profile\" component={Profile} />\n                            <Route path=\"/admin/answer\" render={() => <Answer sendSID = {this.receiveSID} />} />\n                        </Content>\n                        <Footer style={{ textAlign: 'center' }}>\n                            Node-Media-Server ©2019 Created by <a href=\"http://nodemedia.cn\" rel=\"noopener noreferrer\" target=\"_blank\">NodeMedia</a>.\n                        </Footer>\n                    </Layout>\n                </Layout>\n\n\n            </Router>\n        );\n    }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}